---
title: "04_Artifact_and_Job_Management"
version: 1.0
status: "PROPOSED"
---

# **Spec: Artifact & Job Management**

## 1. Overview

This document specifies the UI components and logic for managing the outputs of the `griot-kitchen` engine. This includes viewing individual artifacts, browsing job history, and managing the artifact vault.

## 2. `ArtifactViewer`

- **Purpose:** To provide a rich viewing experience for any artifact generated by the system.
- **Component:** A modal or a dedicated full-page view that is displayed when a user clicks on a job result.
- **Features:**
  - **Image Rendering:** If the artifact `type` is `image`, it must be rendered directly in the view.
  - **Metadata Display:** A collapsible side panel must display all metadata associated with the artifact, fetched from the `GET /v1/artifacts/{id}` endpoint. This includes:
    - The full prompt and negative prompt.
    - All generation parameters (sampler, steps, seed, etc.).
    - A "Copy Parameters" button that copies the metadata to the clipboard, allowing the user to easily reuse the settings.
  - **Action Buttons:**
    - "Download": Downloads the raw artifact file.
    - "Set as ControlNet Image": Sends the image to the `ControlNetPanel` in the `RecipeStudio`.
    - "Delete": Removes the artifact from the vault (with a confirmation dialog).

## 3. `JobHistory` View

- **Purpose:** To provide a complete, searchable history of all jobs run by the user.
- **Component:** A dedicated page accessible from the main navigation.
- **Layout:** A gallery or table view of past jobs.
- **Features:**
  - Each item in the gallery represents a single job and should display:
    - A primary thumbnail of the first image artifact.
    - The job status (`completed`, `failed`).
    - The creation timestamp.
    - The base prompt used.
  - **Filtering and Searching:** The view must have controls to filter by date range and search by prompt keywords.
  - **Interaction:** Clicking on a job item navigates the user to a detailed `ArtifactViewer` for that job's outputs.

## 4. Artifact Vault

- **Purpose:** A centralized gallery for browsing all generated artifacts, decoupled from individual jobs.
- **Component:** A dedicated page accessible from the main navigation.
- **Features:**
  - An infinite-scrolling gallery of all image artifacts.
  - Advanced filtering options:
    - Filter by LoRAs used.
    - Filter by model checkpoint used.
    - Filter by keyword.
  - **Batch Actions:** Allows the user to select multiple artifacts to perform batch operations, such as "Delete Selected" or "Add to Collection" (a potential future feature).

## 5. API Endpoints (Reference for Frontend Agent)

- **`GET /v1/jobs`**: Fetches a paginated list of all historical jobs.
- **`GET /v1/jobs/{job_id}`**: Fetches the details of a single job, including its artifacts.
- **`GET /v1/artifacts`**: Fetches a paginated list of all artifacts in the vault.
- **`GET /v1/artifacts/{artifact_id}`**: Fetches the metadata for a single artifact.
- **`GET /v1/artifacts/{artifact_id}/content`**: Fetches the raw artifact data.
- **`DELETE /v1/artifacts/{artifact_id}`**: Deletes an artifact. 